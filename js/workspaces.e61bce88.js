(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["workspaces"],{"159b":function(e,t,r){var n=r("da84"),a=r("fdbc"),c=r("17c25"),s=r("9112");for(var o in a){var i=n[o],u=i&&i.prototype;if(u&&u.forEach!==c)try{s(u,"forEach",c)}catch(l){u.forEach=c}}},"17c25":function(e,t,r){"use strict";var n=r("b727").forEach,a=r("a640"),c=r("ae40"),s=a("forEach"),o=c("forEach");e.exports=s&&o?[].forEach:function(e){return n(this,e,arguments.length>1?arguments[1]:void 0)}},4160:function(e,t,r){"use strict";var n=r("23e7"),a=r("17c25");n({target:"Array",proto:!0,forced:[].forEach!=a},{forEach:a})},"9b19":function(e,t,r){"use strict";r.r(t);var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"container"},[e._v(" Workspaces "),r("b-button",{attrs:{pill:"",variant:"outline-secondary"},on:{click:e.add}},[r("b-icon-plus"),e._v(" Add a workspace")],1),e._v(" Privacy: "),r("b-button",{attrs:{size:"sm",variant:"primary"},on:{click:e.togglePrivacy}},[e._v(e._s(e.privacy))]),r("br"),r("b-table",{attrs:{hover:"",items:e.workspaces,selectable:"","select-mode":"single","selected-variant":"primary"},on:{"row-selected":e.onRowSelected},scopedSlots:e._u([{key:"cell(url)",fn:function(e){return[r("b-button",{attrs:{pill:"",variant:"outline-primary",size:"sm"}},[r("a",{attrs:{href:e.item.url,target:"_blank"}},[r("b-icon-link45deg")],1)])]}},{key:"cell(bases)",fn:function(t){return[e._v(" "+e._s(t.item.bases.length)+" ")]}}])}),e._v(" Storage : "+e._s(e.storage)),r("br"),e._v(" Path: "+e._s(e.path)+" ")],1)},a=[],c=(r("4160"),r("159b"),r("96cf"),r("1da1")),s=r("668b"),o=r("6655"),i=r.n(o),u=r("00e8"),l=r.n(u),p=r("7fed"),f=r.n(p),h=r("11c1"),d=new f.a(l.a),b={name:"Workspaces",data:function(){return{privacy:null}},created:function(){this.workspaces=[],this.privacy="public"},methods:{add:function(){var e=this;return Object(c["a"])(regeneratorRuntime.mark((function t(){var r,n,a,c;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r=e.path+Object(h["v4"])()+".ttl",n=new Date,a=n.toISOString(),c='@prefix : <#>.\n      @prefix rdfs: <http://www.w3.org/2000/01/rdf-schema#>.\n      @prefix rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#>.\n      @prefix dct: <http://purl.org/dc/terms/>.\n      @prefix dbo: <http://dbpedia.org/ontology/>.\n\n      <> rdfs:label "New Workspace".\n      <> rdf:type dbo:Workspace.\n      <> dct:created "'.concat(a,'".'),t.next=6,d.postFile(r,c,"text/turtle");case 6:console.log(r),e.update();case 8:case"end":return t.stop()}}),t)})))()},update:function(){var e=this;return Object(c["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,d.readFolder(e.path);case 2:e.folder=t.sent,console.log(e.folder.files),e.workspaces=[],e.folder.files.forEach(function(){var t=Object(c["a"])(regeneratorRuntime.mark((function t(r){var n,a,c,o,u,l,p,f,h,d;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,i.a[r.url].label;case 2:n=t.sent,a=[],c=!0,o=!1,t.prev=6,l=Object(s["a"])(i.a[r.url]["https://www.dublincore.org/specifications/dublin-core/dcmi-terms/hasPart"]);case 8:return t.next=10,l.next();case 10:return p=t.sent,c=p.done,t.next=14,p.value;case 14:if(f=t.sent,c){t.next=21;break}h=f,a.push("".concat(h));case 18:c=!0,t.next=8;break;case 21:t.next=27;break;case 23:t.prev=23,t.t0=t["catch"](6),o=!0,u=t.t0;case 27:if(t.prev=27,t.prev=28,c||null==l.return){t.next=32;break}return t.next=32,l.return();case 32:if(t.prev=32,!o){t.next=35;break}throw u;case 35:return t.finish(32);case 36:return t.finish(27);case 37:console.log("b",a),d={name:"".concat(n),url:r.url,bases:a},e.workspaces.push(d);case 40:case"end":return t.stop()}}),t,null,[[6,23,27,37],[28,,32,36]])})));return function(e){return t.apply(this,arguments)}}()),console.log(e.workspaces);case 7:case"end":return t.stop()}}),t)})))()},onRowSelected:function(e){console.log(e),this.$store.commit("table/setWorkspace",e[0]),this.$router.push("Workspace")},togglePrivacy:function(){this.privacy="public"==this.privacy?"private":"public"}},watch:{path:function(){var e=this;return Object(c["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(null==e.privacy||null==e.storage){t.next=8;break}return t.next=3,d.itemExists(e.path);case 3:if(t.sent){t.next=6;break}return t.next=6,d.createFolder(e.path);case 6:return t.next=8,e.update();case 8:case"end":return t.stop()}}),t)})))()}},computed:{workspaces:{get:function(){return this.$store.state.table.workspaces},set:function(){}},storage:{get:function(){return this.$store.state.solid.storage},set:function(){}},path:{get:function(){return this.storage+this.privacy+"/table/workspaces/"},set:function(){}}}},v=b,w=r("2877"),g=Object(w["a"])(v,n,a,!1,null,null,null);t["default"]=g.exports},a640:function(e,t,r){"use strict";var n=r("d039");e.exports=function(e,t){var r=[][e];return!!r&&n((function(){r.call(null,t||function(){throw 1},1)}))}},ae40:function(e,t,r){var n=r("83ab"),a=r("d039"),c=r("5135"),s=Object.defineProperty,o={},i=function(e){throw e};e.exports=function(e,t){if(c(o,e))return o[e];t||(t={});var r=[][e],u=!!c(t,"ACCESSORS")&&t.ACCESSORS,l=c(t,0)?t[0]:i,p=c(t,1)?t[1]:void 0;return o[e]=!!r&&!a((function(){if(u&&!n)return!0;var e={length:-1};u?s(e,1,{enumerable:!0,get:i}):e[1]=1,r.call(e,l,p)}))}}}]);
//# sourceMappingURL=workspaces.e61bce88.js.map